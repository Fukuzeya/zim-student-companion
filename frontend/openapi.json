{"openapi":"3.1.0","info":{"title":"Zim Student Companion","description":"AI-powered ZIMSEC study companion for Zimbabwean students","version":"2.0.0"},"paths":{"/":{"get":{"tags":["status"],"summary":"Root","description":"Root endpoint - basic app info","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"tags":["status"],"summary":"Health Check","description":"Comprehensive health check endpoint.\n\nChecks:\n- Database connectivity\n- Redis connectivity\n- RAG pipeline status\n- Recent metrics","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health/rag":{"get":{"tags":["status"],"summary":"Rag Health Check","description":"Detailed RAG pipeline health check.\n\nReturns detailed information about:\n- Embedding service status and cache stats\n- Vector store collections and document counts\n- Retriever configuration\n- Recent query metrics","operationId":"rag_health_check_health_rag_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/students/me":{"get":{"tags":["students"],"summary":"Get My Profile","description":"Get current student's profile","operationId":"get_my_profile_api_v1_students_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentProfileResponse"}}}}},"security":[{"HTTPBearer":[]}]},"put":{"tags":["students"],"summary":"Update My Profile","description":"Update current student's profile","operationId":"update_my_profile_api_v1_students_me_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentProfileUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/students/me/stats":{"get":{"tags":["students"],"summary":"Get My Stats","description":"Get comprehensive stats for current student","operationId":"get_my_stats_api_v1_students_me_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/students/me/achievements":{"get":{"tags":["students"],"summary":"Get My Achievements","description":"Get student's achievements","operationId":"get_my_achievements_api_v1_students_me_achievements_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/students/me/rank":{"get":{"tags":["students"],"summary":"Get My Rank","description":"Get student's rank on a leaderboard","operationId":"get_my_rank_api_v1_students_me_rank_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"leaderboard_type","in":"query","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/LeaderboardType"}],"default":"xp_all_time","title":"Leaderboard Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/students/leaderboard":{"get":{"tags":["students"],"summary":"Get Leaderboard","description":"Get leaderboard","operationId":"get_leaderboard_api_v1_students_leaderboard_get","parameters":[{"name":"leaderboard_type","in":"query","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/LeaderboardType"}],"default":"xp_all_time","title":"Leaderboard Type"}},{"name":"education_level","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Education Level"}},{"name":"grade","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade"}},{"name":"school","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"School"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/students/me/parent-code":{"post":{"tags":["students"],"summary":"Generate Parent Code","description":"Generate a code for parent to link","operationId":"generate_parent_code_api_v1_students_me_parent_code_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/parents/children":{"get":{"tags":["parents"],"summary":"Get Linked Children","description":"Get all linked children for a parent","operationId":"get_linked_children_api_v1_parents_children_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/parents/link-child":{"post":{"tags":["parents"],"summary":"Link Child","description":"Link a child using verification code","operationId":"link_child_api_v1_parents_link_child_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LinkChildRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/parents/report/{student_id}":{"get":{"tags":["parents"],"summary":"Get Child Report","description":"Get report for a specific child","operationId":"get_child_report_api_v1_parents_report__student_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"student_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Student Id"}},{"name":"report_type","in":"query","required":false,"schema":{"type":"string","default":"weekly","title":"Report Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/parents/notifications/{student_id}":{"put":{"tags":["parents"],"summary":"Update Notification Settings","description":"Update notification settings for a child","operationId":"update_notification_settings_api_v1_parents_notifications__student_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"student_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Student Id"}},{"name":"enabled","in":"query","required":true,"schema":{"type":"boolean","title":"Enabled"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/practice/start":{"post":{"tags":["practice"],"summary":"Start Practice Session","description":"Start a new practice session","operationId":"start_practice_session_api_v1_practice_start_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartSessionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/practice/sessions/{session_id}/answer":{"post":{"tags":["practice"],"summary":"Submit Answer","description":"Submit an answer for current question","operationId":"submit_answer_api_v1_practice_sessions__session_id__answer_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Session Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitAnswerRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/practice/sessions/{session_id}/hint":{"post":{"tags":["practice"],"summary":"Get Hint","description":"Get a hint for current question","operationId":"get_hint_api_v1_practice_sessions__session_id__hint_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Session Id"}},{"name":"question_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Question Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/practice/sessions/{session_id}/end":{"post":{"tags":["practice"],"summary":"End Session","description":"End practice session early","operationId":"end_session_api_v1_practice_sessions__session_id__end_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/practice/sessions/history":{"get":{"tags":["practice"],"summary":"Get Session History","description":"Get practice session history","operationId":"get_session_history_api_v1_practice_sessions_history_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/practice/ask":{"post":{"tags":["practice"],"summary":"Ask Question","description":"Ask a question using RAG","operationId":"ask_question_api_v1_practice_ask_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"question","in":"query","required":true,"schema":{"type":"string","title":"Question"}},{"name":"subject","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subject"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/competitions/":{"get":{"tags":["competitions"],"summary":"List Competitions","description":"List available competitions","operationId":"list_competitions_api_v1_competitions__get","parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"education_level","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Education Level"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/competitions/{competition_id}":{"get":{"tags":["competitions"],"summary":"Get Competition","description":"Get competition details","operationId":"get_competition_api_v1_competitions__competition_id__get","parameters":[{"name":"competition_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Competition Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/competitions/{competition_id}/join":{"post":{"tags":["competitions"],"summary":"Join Competition","description":"Join a competition","operationId":"join_competition_api_v1_competitions__competition_id__join_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"competition_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Competition Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/competitions/{competition_id}/start":{"post":{"tags":["competitions"],"summary":"Start Competition Attempt","description":"Start competition attempt","operationId":"start_competition_attempt_api_v1_competitions__competition_id__start_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"competition_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Competition Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/competitions/{competition_id}/leaderboard":{"get":{"tags":["competitions"],"summary":"Get Competition Leaderboard","description":"Get full competition leaderboard","operationId":"get_competition_leaderboard_api_v1_competitions__competition_id__leaderboard_get","parameters":[{"name":"competition_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Competition Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/plans":{"get":{"tags":["payments"],"summary":"Get Subscription Plans","description":"Get all available subscription plans","operationId":"get_subscription_plans_api_v1_payments_plans_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/payments/subscribe":{"post":{"tags":["payments"],"summary":"Initiate Subscription","description":"Initiate a subscription payment","operationId":"initiate_subscription_api_v1_payments_subscribe_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InitiatePaymentRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/payments/status/{payment_id}":{"get":{"tags":["payments"],"summary":"Check Payment Status","description":"Check payment status","operationId":"check_payment_status_api_v1_payments_status__payment_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Payment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/subscription":{"get":{"tags":["payments"],"summary":"Get Subscription Status","description":"Get current subscription status","operationId":"get_subscription_status_api_v1_payments_subscription_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/payments/webhook/paynow":{"post":{"tags":["payments"],"summary":"Paynow Webhook","description":"Handle Paynow payment webhook","operationId":"paynow_webhook_api_v1_payments_webhook_paynow_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/payments/cancel":{"post":{"tags":["payments"],"summary":"Cancel Subscription","description":"Cancel subscription renewal","operationId":"cancel_subscription_api_v1_payments_cancel_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/dashboard/stats":{"get":{"tags":["admin"],"summary":"Get Dashboard Stats","description":"Get all KPI card data for the admin dashboard.\n\nReturns real-time metrics including:\n- Total users with growth percentage\n- Active students today\n- Messages processed (24h)\n- Revenue this month\n- Active subscriptions\n- Conversion rate\n- Average session duration\n- Questions answered today","operationId":"get_dashboard_stats_api_v1_admin_dashboard_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/dashboard/charts":{"get":{"tags":["admin"],"summary":"Get Dashboard Charts","description":"Get chart data for dashboard visualizations.\n\nReturns data for:\n- User growth (line chart)\n- Revenue trend (area chart)\n- Subscription distribution (donut chart)\n- Active hours heatmap\n- Subject popularity (bar chart)\n- Daily active users (sparkline)","operationId":"get_dashboard_charts_api_v1_admin_dashboard_charts_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":90,"minimum":7,"default":30,"title":"Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/dashboard/activity":{"get":{"tags":["admin"],"summary":"Get Dashboard Activity","description":"Get recent activity feed for dashboard.\n\nIncludes:\n- New user registrations\n- Subscription upgrades\n- Competition completions\n- Support tickets\n- System alerts","operationId":"get_dashboard_activity_api_v1_admin_dashboard_activity_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":10,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users":{"get":{"tags":["admin"],"summary":"List Users","description":"List users with advanced filtering and pagination.\n\nSupports filtering by:\n- Role, subscription tier, verification status\n- Registration and activity date ranges\n- Education level, location (province/district)\n- School name\n- Global search across multiple fields","operationId":"list_users_api_v1_admin_users_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"role","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Role"}},{"name":"subscription_tier","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subscription Tier"}},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},{"name":"is_verified","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Verified"}},{"name":"registration_date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Registration Date From"}},{"name":"registration_date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Registration Date To"}},{"name":"last_active_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Last Active From"}},{"name":"last_active_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Last Active To"}},{"name":"education_level","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Education Level"}},{"name":"province","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Province"}},{"name":"district","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"District"}},{"name":"school","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"School"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":10,"default":50,"title":"Page Size"}},{"name":"sort_by","in":"query","required":false,"schema":{"type":"string","default":"created_at","title":"Sort By"}},{"name":"sort_order","in":"query","required":false,"schema":{"type":"string","default":"desc","title":"Sort Order"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users/{user_id}":{"get":{"tags":["admin"],"summary":"Get User Detail","description":"Get comprehensive user profile with statistics.\n\nIncludes:\n- Full user and student information\n- Activity statistics\n- Payment history summary\n- Achievement counts","operationId":"get_user_detail_api_v1_admin_users__user_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["admin"],"summary":"Update User","description":"Update user information","operationId":"update_user_api_v1_admin_users__user_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admin"],"summary":"Delete User","description":"Delete a user (soft delete - deactivates account)","operationId":"delete_user_api_v1_admin_users__user_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users/bulk-action":{"post":{"tags":["admin"],"summary":"Bulk User Action","description":"Perform bulk action on multiple users.\n\nSupported actions:\n- activate: Enable user accounts\n- deactivate: Disable user accounts\n- delete: Remove users\n- upgrade: Upgrade to basic subscription\n- downgrade: Downgrade to free tier","operationId":"bulk_user_action_api_v1_admin_users_bulk_action_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkUserAction"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/users/{user_id}/impersonate":{"post":{"tags":["admin"],"summary":"Impersonate User","description":"Generate impersonation token for debugging user issues.\n\nCreates a short-lived token to view the app as the specified user.\nRead-only mode prevents any modifications.","operationId":"impersonate_user_api_v1_admin_users__user_id__impersonate_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}},{"name":"read_only","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Read Only"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users/export":{"get":{"tags":["admin"],"summary":"Export Users","description":"Export user data in specified format","operationId":"export_users_api_v1_admin_users_export_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"format","in":"query","required":false,"schema":{"type":"string","pattern":"^(csv|json|excel)$","default":"csv","title":"Format"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/students":{"get":{"tags":["admin"],"summary":"List Students","description":"List all students with filtering","operationId":"list_students_api_v1_admin_students_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"grade","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade"}},{"name":"education_level","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Education Level"}},{"name":"school","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"School"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":10,"default":50,"title":"Page Size"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/students/{student_id}":{"get":{"tags":["admin"],"summary":"Get Student Detail","description":"Get detailed student profile","operationId":"get_student_detail_api_v1_admin_students__student_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"student_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Student Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/students/{student_id}/analytics":{"get":{"tags":["admin"],"summary":"Get Student Analytics","description":"Get comprehensive analytics for a specific student","operationId":"get_student_analytics_api_v1_admin_students__student_id__analytics_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"student_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Student Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/students/{student_id}/sessions":{"get":{"tags":["admin"],"summary":"Get Student Sessions","description":"Get practice session history for a student","operationId":"get_student_sessions_api_v1_admin_students__student_id__sessions_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"student_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Student Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":10,"default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/students/{student_id}/report":{"get":{"tags":["admin"],"summary":"Generate Student Report","description":"Generate downloadable student report","operationId":"generate_student_report_api_v1_admin_students__student_id__report_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"student_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Student Id"}},{"name":"report_type","in":"query","required":false,"schema":{"type":"string","default":"comprehensive","title":"Report Type"}},{"name":"format","in":"query","required":false,"schema":{"type":"string","default":"json","title":"Format"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/webhooks/whatsapp":{"get":{"tags":["webhooks"],"summary":"Verify Webhook","description":"Verify WhatsApp webhook (required by Meta during setup).\n\nMeta sends a GET request with:\n- hub.mode: should be \"subscribe\"\n- hub.verify_token: your configured verify token\n- hub.challenge: challenge string to echo back","operationId":"verify_webhook_api_v1_webhooks_whatsapp_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"tags":["webhooks"],"summary":"Receive Whatsapp Message","description":"Receive WhatsApp messages and events.\n\nHandles:\n- Incoming messages (text, button replies, list replies)\n- Message status updates (sent, delivered, read)\n- Error notifications\n\nNote: Always returns 200 to acknowledge receipt to WhatsApp.\nProcessing happens in background to respond quickly.","operationId":"receive_whatsapp_message_api_v1_webhooks_whatsapp_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/webhooks/whatsapp/status":{"post":{"tags":["webhooks"],"summary":"Whatsapp Status Update","description":"Handle WhatsApp message status updates.\n\nStatus types:\n- sent: Message sent to WhatsApp servers\n- delivered: Message delivered to user's device\n- read: Message read by user\n- failed: Message failed to send","operationId":"whatsapp_status_update_api_v1_webhooks_whatsapp_status_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/webhooks/health":{"get":{"tags":["webhooks"],"summary":"Webhook Health","description":"Health check endpoint for webhook service.\n\nChecks:\n- RAG engine status\n- WhatsApp client connectivity","operationId":"webhook_health_api_v1_webhooks_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/rag/query":{"post":{"tags":["rag-test"],"summary":"Query Rag","description":"Direct RAG query endpoint for testing","operationId":"query_rag_api_v1_rag_query_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RAGQueryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/test":{"get":{"summary":"Test Endpoint","operationId":"test_endpoint_api_v1_test_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/admin/subjects":{"get":{"tags":["admin-content"],"summary":"List Subjects","description":"List all subjects with topic and question counts","operationId":"list_subjects_api_v1_admin_subjects_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"education_level","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Education Level"}},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin-content"],"summary":"Create Subject","description":"Create a new subject","operationId":"create_subject_api_v1_admin_subjects_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_create_subject_api_v1_admin_subjects_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/subjects/{subject_id}":{"put":{"tags":["admin-content"],"summary":"Update Subject","description":"Update an existing subject","operationId":"update_subject_api_v1_admin_subjects__subject_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"subject_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Subject Id"}}],"requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"allOf":[{"$ref":"#/components/schemas/Body_update_subject_api_v1_admin_subjects__subject_id__put"}],"title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admin-content"],"summary":"Delete Subject","description":"Delete (deactivate) a subject","operationId":"delete_subject_api_v1_admin_subjects__subject_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"subject_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Subject Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/topics":{"get":{"tags":["admin-content"],"summary":"List Topics","description":"List topics with filtering","operationId":"list_topics_api_v1_admin_topics_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"subject_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Subject Id"}},{"name":"grade","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade"}},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin-content"],"summary":"Create Topic","description":"Create a new topic","operationId":"create_topic_api_v1_admin_topics_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_create_topic_api_v1_admin_topics_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/topics/{topic_id}":{"put":{"tags":["admin-content"],"summary":"Update Topic","description":"Update an existing topic","operationId":"update_topic_api_v1_admin_topics__topic_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"topic_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Topic Id"}}],"requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"allOf":[{"$ref":"#/components/schemas/Body_update_topic_api_v1_admin_topics__topic_id__put"}],"title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/topics/reorder":{"post":{"tags":["admin-content"],"summary":"Reorder Topics","description":"Bulk update topic ordering","operationId":"reorder_topics_api_v1_admin_topics_reorder_post","requestBody":{"content":{"application/json":{"schema":{"items":{"type":"object"},"type":"array","title":"Orders"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/questions":{"get":{"tags":["admin-content"],"summary":"List Questions","description":"List questions with comprehensive filtering","operationId":"list_questions_api_v1_admin_questions_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"subject_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Subject Id"}},{"name":"topic_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Topic Id"}},{"name":"difficulty","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Difficulty"}},{"name":"question_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Question Type"}},{"name":"source","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source"}},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":10,"default":50,"title":"Page Size"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin-content"],"summary":"Create Question","description":"Create a new question","operationId":"create_question_api_v1_admin_questions_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_create_question_api_v1_admin_questions_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/questions/{question_id}":{"get":{"tags":["admin-content"],"summary":"Get Question Detail","description":"Get full question details including answer","operationId":"get_question_detail_api_v1_admin_questions__question_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"question_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Question Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["admin-content"],"summary":"Update Question","description":"Update an existing question","operationId":"update_question_api_v1_admin_questions__question_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"question_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Question Id"}}],"requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"allOf":[{"$ref":"#/components/schemas/Body_update_question_api_v1_admin_questions__question_id__put"}],"title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/questions/bulk":{"post":{"tags":["admin-content"],"summary":"Bulk Upload Questions","description":"Bulk upload questions from JSON file.\n\nExpected JSON format:\n[\n    {\n        \"subject_id\": \"uuid\",\n        \"topic_id\": \"uuid\" (optional),\n        \"question_text\": \"...\",\n        \"question_type\": \"multiple_choice|short_answer|...\",\n        \"correct_answer\": \"...\",\n        \"options\": [\"a\", \"b\", \"c\", \"d\"] (for MCQ),\n        \"marks\": 1,\n        \"difficulty\": \"easy|medium|hard\"\n    }\n]","operationId":"bulk_upload_questions_api_v1_admin_questions_bulk_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_bulk_upload_questions_api_v1_admin_questions_bulk_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/questions/{question_id}/flag":{"post":{"tags":["admin-content"],"summary":"Flag Question","description":"Flag a question for review","operationId":"flag_question_api_v1_admin_questions__question_id__flag_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"question_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Question Id"}}],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_flag_question_api_v1_admin_questions__question_id__flag_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/questions/stats":{"get":{"tags":["admin-content"],"summary":"Get Question Stats","description":"Get question bank statistics","operationId":"get_question_stats_api_v1_admin_questions_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/curriculum/tree":{"get":{"tags":["admin-content"],"summary":"Get Curriculum Tree","description":"Get hierarchical curriculum tree for visualization","operationId":"get_curriculum_tree_api_v1_admin_curriculum_tree_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"education_level","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Education Level"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/curriculum/coverage/{subject_id}":{"get":{"tags":["admin-content"],"summary":"Get Coverage Analysis","description":"Analyze curriculum coverage - find topics without questions","operationId":"get_coverage_analysis_api_v1_admin_curriculum_coverage__subject_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"subject_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Subject Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/documents/upload":{"post":{"tags":["admin-content"],"summary":"Upload Document","description":"Upload a document for RAG ingestion.\n\nSupported document types:\n- past_paper: Past examination papers\n- marking_scheme: Marking schemes\n- syllabus: ZIMSEC syllabi\n- textbook: Textbook content\n- teacher_notes: Teacher notes and guides\n\nThe document will be processed, chunked, and indexed into the vector store.","operationId":"upload_document_api_v1_admin_documents_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_document_api_v1_admin_documents_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/documents":{"get":{"tags":["admin-content"],"summary":"List Documents","description":"List uploaded documents with status","operationId":"list_documents_api_v1_admin_documents_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"document_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Document Type"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":10,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/documents/{document_id}":{"get":{"tags":["admin-content"],"summary":"Get Document Status","description":"Get processing status of an uploaded document","operationId":"get_document_status_api_v1_admin_documents__document_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Document Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admin-content"],"summary":"Delete Document","description":"Delete an uploaded document","operationId":"delete_document_api_v1_admin_documents__document_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Document Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/documents/{document_id}/retry":{"post":{"tags":["admin-content"],"summary":"Retry Document Processing","description":"Retry processing a failed document","operationId":"retry_document_processing_api_v1_admin_documents__document_id__retry_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Document Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/rag/stats":{"get":{"tags":["admin-content"],"summary":"Get Rag Stats","description":"Get RAG system statistics","operationId":"get_rag_stats_api_v1_admin_rag_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/conversations/live":{"get":{"tags":["admin-content"],"summary":"Get Live Conversations","description":"Get currently active conversations for monitoring.\n\nStatus options:\n- active: Messages within last 2 minutes\n- idle: Messages within last 10 minutes\n- needs_attention: Flagged for admin review","operationId":"get_live_conversations_api_v1_admin_conversations_live_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"subject_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Subject Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":10,"default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/conversations/pipeline":{"get":{"tags":["admin-content"],"summary":"Get Conversation Pipeline Status","description":"Get conversation processing pipeline status","operationId":"get_conversation_pipeline_status_api_v1_admin_conversations_pipeline_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/conversations/{conversation_id}":{"get":{"tags":["admin-content"],"summary":"Get Conversation Detail","description":"Get detailed conversation with message history","operationId":"get_conversation_detail_api_v1_admin_conversations__conversation_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Conversation Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/conversations/{conversation_id}/messages":{"get":{"tags":["admin-content"],"summary":"Get Conversation Messages","description":"Get messages for a specific conversation","operationId":"get_conversation_messages_api_v1_admin_conversations__conversation_id__messages_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Conversation Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":10,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/conversations/{student_id}/intervene":{"post":{"tags":["admin-content"],"summary":"Intervene In Conversation","description":"Admin intervention in a student conversation.\n\nIntervention types:\n- guidance: Provide helpful direction\n- correction: Correct a misunderstanding\n- escalation: Escalate to support","operationId":"intervene_in_conversation_api_v1_admin_conversations__student_id__intervene_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"student_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Student Id"}}],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_intervene_in_conversation_api_v1_admin_conversations__student_id__intervene_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/conversations/analytics":{"get":{"tags":["admin-content"],"summary":"Get Conversation Analytics","description":"Get conversation analytics for the specified period","operationId":"get_conversation_analytics_api_v1_admin_conversations_analytics_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":90,"minimum":1,"default":7,"title":"Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/conversations/search":{"get":{"tags":["admin-content"],"summary":"Search Conversations","description":"Search conversation content","operationId":"search_conversations_api_v1_admin_conversations_search_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","minLength":2,"title":"Query"}},{"name":"student_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Student Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":10,"default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/competitions":{"get":{"tags":["admin-operations"],"summary":"List Competitions","description":"List competitions with filtering.\n\nStatus options: upcoming, active, completed, cancelled","operationId":"list_competitions_api_v1_admin_competitions_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"subject_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Subject Id"}},{"name":"education_level","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Education Level"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":50,"minimum":10,"default":20,"title":"Page Size"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin-operations"],"summary":"Create Competition","description":"Create a new competition","operationId":"create_competition_api_v1_admin_competitions_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_create_competition_api_v1_admin_competitions_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/competitions/{competition_id}":{"get":{"tags":["admin-operations"],"summary":"Get Competition Detail","description":"Get detailed competition information","operationId":"get_competition_detail_api_v1_admin_competitions__competition_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"competition_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Competition Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["admin-operations"],"summary":"Update Competition","description":"Update competition details","operationId":"update_competition_api_v1_admin_competitions__competition_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"competition_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Competition Id"}}],"requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"allOf":[{"$ref":"#/components/schemas/Body_update_competition_api_v1_admin_competitions__competition_id__put"}],"title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admin-operations"],"summary":"Delete Competition","description":"Delete or cancel a competition","operationId":"delete_competition_api_v1_admin_competitions__competition_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"competition_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Competition Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/competitions/{competition_id}/leaderboard":{"get":{"tags":["admin-operations"],"summary":"Get Competition Leaderboard","description":"Get competition leaderboard","operationId":"get_competition_leaderboard_api_v1_admin_competitions__competition_id__leaderboard_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"competition_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Competition Id"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":10,"default":50,"title":"Page Size"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/competitions/{competition_id}/live":{"get":{"tags":["admin-operations"],"summary":"Get Live Competition Data","description":"Get real-time competition monitoring data.\n\nIncludes:\n- Live leaderboard\n- Participant progress\n- Anomaly detection","operationId":"get_live_competition_data_api_v1_admin_competitions__competition_id__live_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"competition_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Competition Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/competitions/{competition_id}/finalize":{"post":{"tags":["admin-operations"],"summary":"Finalize Competition","description":"Finalize competition results and distribute prizes","operationId":"finalize_competition_api_v1_admin_competitions__competition_id__finalize_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"competition_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Competition Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/competitions/{competition_id}/disqualify/{student_id}":{"post":{"tags":["admin-operations"],"summary":"Disqualify Participant","description":"Disqualify a participant from competition","operationId":"disqualify_participant_api_v1_admin_competitions__competition_id__disqualify__student_id__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"competition_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Competition Id"}},{"name":"student_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Student Id"}}],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_disqualify_participant_api_v1_admin_competitions__competition_id__disqualify__student_id__post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/competitions/{competition_id}/export":{"get":{"tags":["admin-operations"],"summary":"Export Competition Results","description":"Export competition results","operationId":"export_competition_results_api_v1_admin_competitions__competition_id__export_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"competition_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Competition Id"}},{"name":"format","in":"query","required":false,"schema":{"type":"string","pattern":"^(csv|json)$","default":"csv","title":"Format"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/payments":{"get":{"tags":["admin-operations"],"summary":"List Payments","description":"List payments with comprehensive filtering","operationId":"list_payments_api_v1_admin_payments_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"payment_method","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payment Method"}},{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date From"}},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date To"}},{"name":"min_amount","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Min Amount"}},{"name":"max_amount","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Max Amount"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"User Id"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":10,"default":50,"title":"Page Size"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/payments/stats":{"get":{"tags":["admin-operations"],"summary":"Get Payment Stats","description":"Get payment statistics.\n\nReturns:\n- MRR, ARR\n- Churn rate, LTV\n- Revenue by plan\n- Payment method breakdown","operationId":"get_payment_stats_api_v1_admin_payments_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/payments/{payment_id}":{"get":{"tags":["admin-operations"],"summary":"Get Payment Detail","description":"Get detailed payment information","operationId":"get_payment_detail_api_v1_admin_payments__payment_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Payment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/payments/{payment_id}/refund":{"post":{"tags":["admin-operations"],"summary":"Process Refund","description":"Process a refund for a payment.\n\nLeave partial_amount empty for full refund.","operationId":"process_refund_api_v1_admin_payments__payment_id__refund_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Payment Id"}}],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_process_refund_api_v1_admin_payments__payment_id__refund_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/subscriptions":{"get":{"tags":["admin-operations"],"summary":"List Subscriptions","description":"List user subscriptions","operationId":"list_subscriptions_api_v1_admin_subscriptions_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"tier","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tier"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":10,"default":50,"title":"Page Size"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/plans":{"get":{"tags":["admin-operations"],"summary":"List Plans","description":"List all subscription plans","operationId":"list_plans_api_v1_admin_plans_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"include_inactive","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Inactive"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin-operations"],"summary":"Create Plan","description":"Create a new subscription plan","operationId":"create_plan_api_v1_admin_plans_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_create_plan_api_v1_admin_plans_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/plans/{plan_id}":{"put":{"tags":["admin-operations"],"summary":"Update Plan","description":"Update a subscription plan","operationId":"update_plan_api_v1_admin_plans__plan_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"plan_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Plan Id"}}],"requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"allOf":[{"$ref":"#/components/schemas/Body_update_plan_api_v1_admin_plans__plan_id__put"}],"title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/subscriptions/{user_id}/modify":{"post":{"tags":["admin-operations"],"summary":"Modify Subscription","description":"Manually modify a user's subscription","operationId":"modify_subscription_api_v1_admin_subscriptions__user_id__modify_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_modify_subscription_api_v1_admin_subscriptions__user_id__modify_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/analytics/engagement":{"get":{"tags":["admin-operations"],"summary":"Get Engagement Analytics","description":"Get engagement analytics.\n\nReturns DAU/WAU/MAU, retention cohorts, feature usage, funnel data.","operationId":"get_engagement_analytics_api_v1_admin_analytics_engagement_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"time_range","in":"query","required":false,"schema":{"type":"string","default":"last_30_days","title":"Time Range"}},{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date From"}},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date To"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/analytics/learning":{"get":{"tags":["admin-operations"],"summary":"Get Learning Analytics","description":"Get learning analytics.\n\nReturns question stats, accuracy trends, time distribution, difficulty analysis.","operationId":"get_learning_analytics_api_v1_admin_analytics_learning_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"time_range","in":"query","required":false,"schema":{"type":"string","default":"last_30_days","title":"Time Range"}},{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date From"}},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date To"}},{"name":"subject_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Subject Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/analytics/revenue":{"get":{"tags":["admin-operations"],"summary":"Get Revenue Analytics","description":"Get revenue analytics.\n\nReturns MRR/ARR, churn, LTV, revenue trends and breakdowns.","operationId":"get_revenue_analytics_api_v1_admin_analytics_revenue_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"time_range","in":"query","required":false,"schema":{"type":"string","default":"last_30_days","title":"Time Range"}},{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date From"}},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date To"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/analytics/custom":{"post":{"tags":["admin-operations"],"summary":"Generate Custom Analytics","description":"Generate custom analytics report.\n\nAvailable metrics: total_users, active_users, total_revenue,\n                  questions_answered, average_accuracy, new_signups\n\nAvailable dimensions: by_subject, by_grade, by_subscription, by_province","operationId":"generate_custom_analytics_api_v1_admin_analytics_custom_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_generate_custom_analytics_api_v1_admin_analytics_custom_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/reports/generate":{"post":{"tags":["admin-operations"],"summary":"Generate Report","description":"Generate downloadable report","operationId":"generate_report_api_v1_admin_reports_generate_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_generate_report_api_v1_admin_reports_generate_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/notifications":{"get":{"tags":["admin-operations"],"summary":"List Notifications","description":"List broadcast notifications","operationId":"list_notifications_api_v1_admin_notifications_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"notification_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notification Type"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":10,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/notifications/broadcast":{"post":{"tags":["admin-operations"],"summary":"Create Broadcast","description":"Create and send broadcast notification.\n\nChannels: in_app, whatsapp, email, push\n\nTarget segment example:\n{\"role\": \"student\", \"subscription_tier\": \"premium\", \"grade\": \"Form 4\"}","operationId":"create_broadcast_api_v1_admin_notifications_broadcast_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_create_broadcast_api_v1_admin_notifications_broadcast_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/notifications/preview-segment":{"post":{"tags":["admin-operations"],"summary":"Preview Segment","description":"Preview how many users match a segment","operationId":"preview_segment_api_v1_admin_notifications_preview_segment_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_preview_segment_api_v1_admin_notifications_preview_segment_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/notifications/{notification_id}":{"delete":{"tags":["admin-operations"],"summary":"Cancel Notification","description":"Cancel a scheduled notification","operationId":"cancel_notification_api_v1_admin_notifications__notification_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"notification_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Notification Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/whatsapp/templates":{"get":{"tags":["admin-operations"],"summary":"List Whatsapp Templates","description":"List WhatsApp message templates","operationId":"list_whatsapp_templates_api_v1_admin_whatsapp_templates_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/whatsapp/templates/stats":{"get":{"tags":["admin-operations"],"summary":"Get Whatsapp Template Stats","description":"Get WhatsApp template usage statistics","operationId":"get_whatsapp_template_stats_api_v1_admin_whatsapp_templates_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/settings":{"get":{"tags":["admin-operations"],"summary":"Get Settings","description":"Get current system settings","operationId":"get_settings_api_v1_admin_settings_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]},"put":{"tags":["admin-operations"],"summary":"Update Settings","description":"Update system settings","operationId":"update_settings_api_v1_admin_settings_put","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"allOf":[{"$ref":"#/components/schemas/Body_update_settings_api_v1_admin_settings_put"}],"title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/settings/feature-flag":{"post":{"tags":["admin-operations"],"summary":"Toggle Feature Flag","description":"Toggle a feature flag","operationId":"toggle_feature_flag_api_v1_admin_settings_feature_flag_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_toggle_feature_flag_api_v1_admin_settings_feature_flag_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/settings/maintenance":{"post":{"tags":["admin-operations"],"summary":"Set Maintenance Mode","description":"Enable or disable maintenance mode","operationId":"set_maintenance_mode_api_v1_admin_settings_maintenance_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_set_maintenance_mode_api_v1_admin_settings_maintenance_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/admins":{"get":{"tags":["admin-operations"],"summary":"List Admins","description":"List all admin users","operationId":"list_admins_api_v1_admin_admins_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["admin-operations"],"summary":"Create Admin","description":"Create a new admin user","operationId":"create_admin_api_v1_admin_admins_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_create_admin_api_v1_admin_admins_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/admins/{admin_id}":{"put":{"tags":["admin-operations"],"summary":"Update Admin","description":"Update an admin user","operationId":"update_admin_api_v1_admin_admins__admin_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"admin_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Admin Id"}}],"requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"allOf":[{"$ref":"#/components/schemas/Body_update_admin_api_v1_admin_admins__admin_id__put"}],"title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admin-operations"],"summary":"Deactivate Admin","description":"Deactivate an admin user","operationId":"deactivate_admin_api_v1_admin_admins__admin_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"admin_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Admin Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/audit-log":{"get":{"tags":["admin-operations"],"summary":"Get Audit Log","description":"Get audit log entries.\n\nFilterable by admin, action type, resource type, and date range.","operationId":"get_audit_log_api_v1_admin_audit_log_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"admin_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Admin Id"}},{"name":"action","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Action"}},{"name":"resource_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Resource Type"}},{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Date From"}},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Date To"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":10,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/system/health":{"get":{"tags":["admin-operations"],"summary":"Get System Health","description":"Get comprehensive system health status.\n\nChecks database, Redis, external services, and system resources.","operationId":"get_system_health_api_v1_admin_system_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/system/errors":{"get":{"tags":["admin-operations"],"summary":"Get Error Logs","description":"Get recent error logs","operationId":"get_error_logs_api_v1_admin_system_errors_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"level","in":"query","required":false,"schema":{"type":"string","default":"ERROR","title":"Level"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":10,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/phone/request-otp":{"post":{"tags":["authentication"],"summary":"Request Otp","description":"Request OTP for phone-based login.\n\nGenerates a 6-digit OTP and stores it in Redis with 5-minute expiry.\nIn production, sends OTP via SMS gateway.\n\nRate limited to prevent abuse.","operationId":"request_otp_api_v1_auth_phone_request_otp_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PhoneLoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/phone/verify":{"post":{"tags":["authentication"],"summary":"Verify Otp","description":"Verify OTP and complete phone-based login.\n\nIf user exists, returns tokens. If new user, creates account first.\nUpdates last_active timestamp on successful login.","operationId":"verify_otp_api_v1_auth_phone_verify_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OTPVerifyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["authentication"],"summary":"Login","description":"Login with email and password.\n\nPrimarily used for admin dashboard and web portal access.\nReturns access and refresh tokens on success.","operationId":"login_api_v1_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailLoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/register":{"post":{"tags":["authentication"],"summary":"Register","description":"Register new user with email and password.\n\nCreates a new user account and returns authentication tokens.\nEmail must be unique across all users.","operationId":"register_api_v1_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/refresh":{"post":{"tags":["authentication"],"summary":"Refresh Token","description":"Refresh access token using refresh token.\n\nValidates the refresh token, checks it hasn't been revoked,\nand issues new access and refresh tokens.\n\nThe old refresh token is invalidated (rotation).","operationId":"refresh_token_api_v1_auth_refresh_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/logout":{"post":{"tags":["authentication"],"summary":"Logout","description":"Logout current user.\n\nRevokes the refresh token, effectively logging out the user.\nThe access token will remain valid until it expires, but\ncannot be refreshed.\n\nFor immediate invalidation, implement token blacklisting.","operationId":"logout_api_v1_auth_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/auth/me":{"get":{"tags":["authentication"],"summary":"Get Current User Profile","description":"Get current authenticated user's profile.\n\nReturns complete user information including:\n- Basic user data (phone, email, role)\n- Subscription information\n- Student profile (if applicable)\n\nRequires valid access token in Authorization header.","operationId":"get_current_user_profile_api_v1_auth_me_get","security":[{"HTTPBearer":[]}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileResponse"}}}}}},"put":{"tags":["authentication"],"summary":"Update Current User Profile","description":"Update current user's profile.\n\nAllows updating email and phone number.\nEmail changes may require re-verification.","operationId":"update_current_user_profile_api_v1_auth_me_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"email","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"}},{"name":"phone_number","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone Number"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/change-password":{"post":{"tags":["authentication"],"summary":"Change Password","description":"Change current user's password.","operationId":"change_password_api_v1_auth_change_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/auth/forgot-password":{"post":{"tags":["authentication"],"summary":"Forgot Password","description":"Request password reset.\n\nSends a password reset link to the user's email.\nLink expires in 1 hour.","operationId":"forgot_password_api_v1_auth_forgot_password_post","parameters":[{"name":"email","in":"query","required":true,"schema":{"type":"string","format":"email","title":"Email"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/reset-password":{"post":{"tags":["authentication"],"summary":"Reset Password","description":"Reset password using reset token.","operationId":"reset_password_api_v1_auth_reset_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/send-verification":{"post":{"tags":["authentication"],"summary":"Send Verification Email","description":"Send email verification link.\n\nSends a verification link to the user's registered email.","operationId":"send_verification_email_api_v1_auth_send_verification_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/auth/verify-email":{"post":{"tags":["authentication"],"summary":"Verify Email","description":"Verify email using verification token.","operationId":"verify_email_api_v1_auth_verify_email_post","parameters":[{"name":"token","in":"query","required":true,"schema":{"type":"string","title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Body_bulk_upload_questions_api_v1_admin_questions_bulk_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_bulk_upload_questions_api_v1_admin_questions_bulk_post"},"Body_create_admin_api_v1_admin_admins_post":{"properties":{"email":{"type":"string","title":"Email"},"password":{"type":"string","title":"Password"},"phone_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone Number"}},"type":"object","required":["email","password"],"title":"Body_create_admin_api_v1_admin_admins_post"},"Body_create_broadcast_api_v1_admin_notifications_broadcast_post":{"properties":{"title":{"type":"string","title":"Title"},"message":{"type":"string","title":"Message"},"notification_type":{"type":"string","title":"Notification Type","default":"info"},"channels":{"type":"string","title":"Channels","default":"in_app"},"target_segment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Target Segment"},"schedule_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Schedule At"}},"type":"object","required":["title","message"],"title":"Body_create_broadcast_api_v1_admin_notifications_broadcast_post"},"Body_create_competition_api_v1_admin_competitions_post":{"properties":{"name":{"type":"string","title":"Name"},"start_date":{"type":"string","format":"date-time","title":"Start Date"},"end_date":{"type":"string","format":"date-time","title":"End Date"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"subject_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Subject Id"},"education_level":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Education Level"},"grade":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade"},"competition_type":{"type":"string","title":"Competition Type","default":"individual"},"max_participants":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Participants"},"entry_fee":{"type":"number","title":"Entry Fee","default":0},"prizes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prizes"},"rules":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rules"},"num_questions":{"type":"integer","title":"Num Questions","default":10},"time_limit_minutes":{"type":"integer","title":"Time Limit Minutes","default":30},"difficulty":{"type":"string","title":"Difficulty","default":"medium"}},"type":"object","required":["name","start_date","end_date"],"title":"Body_create_competition_api_v1_admin_competitions_post"},"Body_create_plan_api_v1_admin_plans_post":{"properties":{"name":{"type":"string","title":"Name"},"tier":{"type":"string","title":"Tier"},"price_usd":{"type":"number","title":"Price Usd"},"duration_days":{"type":"integer","title":"Duration Days"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"price_zwl":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Price Zwl"},"features":{"type":"string","title":"Features","default":"[]"},"limits":{"type":"string","title":"Limits","default":"{}"},"max_students":{"type":"integer","title":"Max Students","default":1},"discount_percentage":{"type":"integer","title":"Discount Percentage","default":0},"is_popular":{"type":"boolean","title":"Is Popular","default":false}},"type":"object","required":["name","tier","price_usd","duration_days"],"title":"Body_create_plan_api_v1_admin_plans_post"},"Body_create_question_api_v1_admin_questions_post":{"properties":{"subject_id":{"type":"string","format":"uuid","title":"Subject Id"},"question_text":{"type":"string","title":"Question Text"},"question_type":{"type":"string","title":"Question Type"},"correct_answer":{"type":"string","title":"Correct Answer"},"topic_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Topic Id"},"options":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Options"},"marking_scheme":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Marking Scheme"},"explanation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Explanation"},"marks":{"type":"integer","title":"Marks","default":1},"difficulty":{"type":"string","title":"Difficulty","default":"medium"},"source":{"type":"string","title":"Source","default":"admin"},"source_year":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Source Year"},"tags":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tags"}},"type":"object","required":["subject_id","question_text","question_type","correct_answer"],"title":"Body_create_question_api_v1_admin_questions_post"},"Body_create_subject_api_v1_admin_subjects_post":{"properties":{"name":{"type":"string","title":"Name"},"code":{"type":"string","title":"Code"},"education_level":{"type":"string","title":"Education Level"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"icon":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon"},"color":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color"}},"type":"object","required":["name","code","education_level"],"title":"Body_create_subject_api_v1_admin_subjects_post"},"Body_create_topic_api_v1_admin_topics_post":{"properties":{"subject_id":{"type":"string","format":"uuid","title":"Subject Id"},"name":{"type":"string","title":"Name"},"grade":{"type":"string","title":"Grade"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"parent_topic_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Parent Topic Id"},"syllabus_reference":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Syllabus Reference"},"order_index":{"type":"integer","title":"Order Index","default":0},"estimated_hours":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Estimated Hours"}},"type":"object","required":["subject_id","name","grade"],"title":"Body_create_topic_api_v1_admin_topics_post"},"Body_disqualify_participant_api_v1_admin_competitions__competition_id__disqualify__student_id__post":{"properties":{"reason":{"type":"string","title":"Reason"}},"type":"object","required":["reason"],"title":"Body_disqualify_participant_api_v1_admin_competitions__competition_id__disqualify__student_id__post"},"Body_flag_question_api_v1_admin_questions__question_id__flag_post":{"properties":{"reason":{"type":"string","title":"Reason"}},"type":"object","required":["reason"],"title":"Body_flag_question_api_v1_admin_questions__question_id__flag_post"},"Body_generate_custom_analytics_api_v1_admin_analytics_custom_post":{"properties":{"metrics":{"items":{"type":"string"},"type":"array","title":"Metrics"},"dimensions":{"items":{"type":"string"},"type":"array","title":"Dimensions","default":[]},"time_range":{"type":"string","title":"Time Range","default":"last_30_days"},"date_from":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date From"},"date_to":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date To"}},"type":"object","required":["metrics"],"title":"Body_generate_custom_analytics_api_v1_admin_analytics_custom_post"},"Body_generate_report_api_v1_admin_reports_generate_post":{"properties":{"report_type":{"type":"string","title":"Report Type"},"format":{"type":"string","title":"Format","default":"pdf"},"time_range":{"type":"string","title":"Time Range","default":"last_30_days"}},"type":"object","required":["report_type"],"title":"Body_generate_report_api_v1_admin_reports_generate_post"},"Body_intervene_in_conversation_api_v1_admin_conversations__student_id__intervene_post":{"properties":{"message":{"type":"string","title":"Message"},"intervention_type":{"type":"string","title":"Intervention Type","default":"guidance"},"notify_student":{"type":"boolean","title":"Notify Student","default":true}},"type":"object","required":["message"],"title":"Body_intervene_in_conversation_api_v1_admin_conversations__student_id__intervene_post"},"Body_modify_subscription_api_v1_admin_subscriptions__user_id__modify_post":{"properties":{"new_tier":{"type":"string","title":"New Tier"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"}},"type":"object","required":["new_tier"],"title":"Body_modify_subscription_api_v1_admin_subscriptions__user_id__modify_post"},"Body_preview_segment_api_v1_admin_notifications_preview_segment_post":{"properties":{"segment":{"type":"string","title":"Segment"}},"type":"object","required":["segment"],"title":"Body_preview_segment_api_v1_admin_notifications_preview_segment_post"},"Body_process_refund_api_v1_admin_payments__payment_id__refund_post":{"properties":{"reason":{"type":"string","title":"Reason"},"partial_amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Partial Amount"}},"type":"object","required":["reason"],"title":"Body_process_refund_api_v1_admin_payments__payment_id__refund_post"},"Body_set_maintenance_mode_api_v1_admin_settings_maintenance_post":{"properties":{"enabled":{"type":"boolean","title":"Enabled"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","required":["enabled"],"title":"Body_set_maintenance_mode_api_v1_admin_settings_maintenance_post"},"Body_toggle_feature_flag_api_v1_admin_settings_feature_flag_post":{"properties":{"flag_name":{"type":"string","title":"Flag Name"},"enabled":{"type":"boolean","title":"Enabled"}},"type":"object","required":["flag_name","enabled"],"title":"Body_toggle_feature_flag_api_v1_admin_settings_feature_flag_post"},"Body_update_admin_api_v1_admin_admins__admin_id__put":{"properties":{"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"Body_update_admin_api_v1_admin_admins__admin_id__put"},"Body_update_competition_api_v1_admin_competitions__competition_id__put":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"start_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Date"},"end_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Date"},"max_participants":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Participants"},"prizes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prizes"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},"type":"object","title":"Body_update_competition_api_v1_admin_competitions__competition_id__put"},"Body_update_plan_api_v1_admin_plans__plan_id__put":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"price_usd":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Price Usd"},"features":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Features"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"Body_update_plan_api_v1_admin_plans__plan_id__put"},"Body_update_question_api_v1_admin_questions__question_id__put":{"properties":{"question_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Question Text"},"correct_answer":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Correct Answer"},"marking_scheme":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Marking Scheme"},"explanation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Explanation"},"difficulty":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Difficulty"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"Body_update_question_api_v1_admin_questions__question_id__put"},"Body_update_settings_api_v1_admin_settings_put":{"properties":{"app_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"App Name"},"contact_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contact Email"},"contact_phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contact Phone"},"support_hours":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Support Hours"}},"type":"object","title":"Body_update_settings_api_v1_admin_settings_put"},"Body_update_subject_api_v1_admin_subjects__subject_id__put":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"icon":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon"},"color":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"Body_update_subject_api_v1_admin_subjects__subject_id__put"},"Body_update_topic_api_v1_admin_topics__topic_id__put":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"syllabus_reference":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Syllabus Reference"},"order_index":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Order Index"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"Body_update_topic_api_v1_admin_topics__topic_id__put"},"Body_upload_document_api_v1_admin_documents_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"document_type":{"type":"string","title":"Document Type"},"subject":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subject"},"grade":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade"},"education_level":{"type":"string","title":"Education Level","default":"secondary"},"year":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Year"},"process_immediately":{"type":"boolean","title":"Process Immediately","default":true}},"type":"object","required":["file","document_type"],"title":"Body_upload_document_api_v1_admin_documents_upload_post"},"BulkUserAction":{"properties":{"user_ids":{"items":{"type":"string","format":"uuid"},"type":"array","title":"User Ids"},"action":{"type":"string","title":"Action"}},"type":"object","required":["user_ids","action"],"title":"BulkUserAction","description":"Bulk action on multiple users"},"ChangePasswordRequest":{"properties":{"current_password":{"type":"string","minLength":1,"title":"Current Password"},"new_password":{"type":"string","minLength":8,"title":"New Password"}},"type":"object","required":["current_password","new_password"],"title":"ChangePasswordRequest"},"EmailLoginRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","minLength":1,"title":"Password"}},"type":"object","required":["email","password"],"title":"EmailLoginRequest","description":"Email/password login request"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"InitiatePaymentRequest":{"properties":{"plan_id":{"type":"string","format":"uuid","title":"Plan Id"},"payment_method":{"$ref":"#/components/schemas/PaymentMethod"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"}},"type":"object","required":["plan_id","payment_method"],"title":"InitiatePaymentRequest"},"LeaderboardType":{"type":"string","enum":["xp_all_time","xp_weekly","xp_monthly","streak","accuracy","questions","school","district"],"title":"LeaderboardType"},"LinkChildRequest":{"properties":{"verification_code":{"type":"string","title":"Verification Code"}},"type":"object","required":["verification_code"],"title":"LinkChildRequest"},"MessageResponse":{"properties":{"message":{"type":"string","title":"Message"},"success":{"type":"boolean","title":"Success","default":true}},"type":"object","required":["message"],"title":"MessageResponse","description":"Generic message response"},"OTPVerifyRequest":{"properties":{"phone_number":{"type":"string","pattern":"^\\+?[0-9]{10,15}$","title":"Phone Number"},"otp":{"type":"string","maxLength":6,"minLength":6,"title":"Otp"}},"type":"object","required":["phone_number","otp"],"title":"OTPVerifyRequest","description":"Verify OTP and complete phone login"},"PaymentMethod":{"type":"string","enum":["ecocash","onemoney","innbucks","telecash","visa","mastercard","bank","paypal"],"title":"PaymentMethod"},"PhoneLoginRequest":{"properties":{"phone_number":{"type":"string","pattern":"^\\+?[0-9]{10,15}$","title":"Phone Number"}},"type":"object","required":["phone_number"],"title":"PhoneLoginRequest","description":"Request OTP for phone-based login"},"RAGQueryRequest":{"properties":{"question":{"type":"string","title":"Question"},"student_context":{"type":"object","title":"Student Context"},"mode":{"type":"string","title":"Mode","default":"socratic"},"conversation_history":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"Conversation History"}},"type":"object","required":["question","student_context"],"title":"RAGQueryRequest"},"RefreshTokenRequest":{"properties":{"refresh_token":{"type":"string","title":"Refresh Token"}},"type":"object","required":["refresh_token"],"title":"RefreshTokenRequest","description":"Refresh token request"},"RegisterRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","minLength":8,"title":"Password"},"phone_number":{"anyOf":[{"type":"string","pattern":"^\\+?[0-9]{10,15}$"},{"type":"null"}],"title":"Phone Number"},"role":{"allOf":[{"$ref":"#/components/schemas/UserRole"}],"default":"student"}},"type":"object","required":["email","password"],"title":"RegisterRequest","description":"User registration request"},"ResetPasswordRequest":{"properties":{"token":{"type":"string","title":"Token"},"new_password":{"type":"string","minLength":8,"title":"New Password"}},"type":"object","required":["token","new_password"],"title":"ResetPasswordRequest"},"StartSessionRequest":{"properties":{"subject_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Subject Id"},"topic_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Topic Id"},"session_type":{"type":"string","title":"Session Type","default":"daily_practice"},"num_questions":{"type":"integer","title":"Num Questions","default":5},"difficulty":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Difficulty"}},"type":"object","title":"StartSessionRequest"},"StudentProfileResponse":{"properties":{"id":{"type":"string","title":"Id"},"first_name":{"type":"string","title":"First Name"},"last_name":{"type":"string","title":"Last Name"},"school_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"School Name"},"education_level":{"type":"string","title":"Education Level"},"grade":{"type":"string","title":"Grade"},"subjects":{"items":{"type":"string"},"type":"array","title":"Subjects"},"total_xp":{"type":"integer","title":"Total Xp"},"level":{"type":"integer","title":"Level"},"current_streak":{"type":"integer","title":"Current Streak"}},"type":"object","required":["id","first_name","last_name","school_name","education_level","grade","subjects","total_xp","level","current_streak"],"title":"StudentProfileResponse"},"StudentProfileUpdate":{"properties":{"first_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Name"},"last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Name"},"school_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"School Name"},"district":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"District"},"province":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Province"},"grade":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade"},"subjects":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Subjects"},"preferred_language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Preferred Language"},"daily_goal_minutes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Daily Goal Minutes"}},"type":"object","title":"StudentProfileUpdate"},"SubmitAnswerRequest":{"properties":{"question_id":{"type":"string","format":"uuid","title":"Question Id"},"answer":{"type":"string","title":"Answer"}},"type":"object","required":["question_id","answer"],"title":"SubmitAnswerRequest"},"TokenResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"type":"string","title":"Refresh Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"},"expires_in":{"type":"integer","title":"Expires In"},"user_id":{"type":"string","title":"User Id"},"role":{"type":"string","title":"Role"}},"type":"object","required":["access_token","refresh_token","expires_in","user_id","role"],"title":"TokenResponse","description":"Authentication token response"},"UserProfileResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"phone_number":{"type":"string","title":"Phone Number"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"role":{"type":"string","title":"Role"},"subscription_tier":{"type":"string","title":"Subscription Tier"},"subscription_expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Subscription Expires At"},"is_active":{"type":"boolean","title":"Is Active"},"is_verified":{"type":"boolean","title":"Is Verified"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"last_active":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Active"},"student":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Student"}},"type":"object","required":["id","phone_number","email","role","subscription_tier","subscription_expires_at","is_active","is_verified","created_at","last_active"],"title":"UserProfileResponse","description":"Current user profile response"},"UserRole":{"type":"string","enum":["student","parent","teacher","admin"],"title":"UserRole"},"UserUpdate":{"properties":{"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"phone_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone Number"},"role":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Role"},"subscription_tier":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subscription Tier"},"subscription_expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Subscription Expires At"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"is_verified":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Verified"}},"type":"object","title":"UserUpdate","description":"Admin user update payload"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}